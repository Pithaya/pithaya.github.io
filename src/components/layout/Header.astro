---
import { IdCard, FolderGit2, Sparkle } from "@lucide/astro";

import ThemeToggleButton from "@components/ThemeToggleButton.astro";
---

<header
  class="h-14 flex items-center justify-center bg-slate-50 dark:bg-slate-800 shadow-lg sticky top-0 z-50"
>
  <div class="flex items-center justify-between w-8/12">
    <div class="flex items-center gap-4">
      <a id="about-link" href="#about" class="flex items-center gap-2 button">
        <IdCard stroke-width="1" class="size-6" />
        <span>About</span>
      </a>
      <a href="#skills" class="flex items-center gap-2 button">
        <Sparkle stroke-width="1" class="size-6" />
        <span>Skills</span>
      </a>
      <a href="#projects" class="flex items-center gap-2 button">
        <FolderGit2 stroke-width="1" class="size-6" />
        <span>Projects</span>
      </a>
    </div>
    <ThemeToggleButton />
  </div>
</header>

<script>
  const header = document.querySelector("header");

  if (header !== null) {
    for (const anchor of header.querySelectorAll('a[href^="#"]')) {
      anchor.addEventListener("click", (e) => {
        e.preventDefault();

        const anchorHref = anchor.getAttribute("href") ?? "";
        const targetElement = document.querySelector(anchorHref);

        if (targetElement) {
          targetElement.scrollIntoView({
            behavior: "smooth",
          });

          history.pushState(null, "", anchorHref);
        }
      });
    }
  }
</script>
